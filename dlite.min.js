function Dlite(a){if(!(this instanceof Dlite)){return new Dlite(a)}this.content=null;this.ref="#"+a;this.size=null;this.color=null;this.align=null;this.width=null;this.height=null;this.showBg=null;this.viewer={};this.init()}Dlite.version="1.0.0";Dlite.align={VERTICAL:0,HORIZONTAL:1};Dlite.background={SHOW:2,PARTIAL:1,NONE:0};Dlite.transition={NONE:0,VERTICAL:1,HORIZONTAL:2};Dlite.waveforms={domain:function(c,d){var a=10,b=0,e=Object.prototype.toString;return function(l){var j=0,f,h,g=[],k="$";if(e.call(l)!=="[object Array]"){throw Error("waveforms: value must be an array")}for(f=l.length;j<f;j+=1){h=Math.round(b+((l[j]*(a-b))/(d-c)))-1;if(h<0){h=0}else{if(h>9){h=9}}g.push(k+h)}return g}}};Dlite.characterMatrix={A:{x:5,y:7,matrix:[0,0,1,0,0,0,1,0,1,0,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1]},B:{x:5,y:7,matrix:[1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,1,1,1,0]},C:{x:5,y:7,matrix:[0,1,1,1,0,1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,1,1,1,0]},D:{x:5,y:7,matrix:[1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,0]},E:{x:5,y:7,matrix:[1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1]},F:{x:5,y:7,matrix:[1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0]},G:{x:5,y:7,matrix:[0,1,1,1,0,1,0,0,0,1,1,0,0,0,0,1,0,1,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,0]},H:{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1]},I:{x:5,y:7,matrix:[1,1,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,1,1]},J:{x:5,y:7,matrix:[1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,0]},K:{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1]},L:{x:5,y:7,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1]},M:{x:5,y:7,matrix:[1,0,0,0,1,1,1,0,1,1,1,0,1,0,1,1,0,1,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1]},N:{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,0,1,1,1,0,0,1,1,0,1,0,1,1,0,0,1,1,1,0,0,0,1,1,0,0,0,1]},O:{x:5,y:7,matrix:[0,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,0]},P:{x:5,y:7,matrix:[1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,1,1,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0]},Q:{x:5,y:7,matrix:[0,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,1,0,1,1,0,0,1,1,0,1,1,1,0]},R:{x:5,y:7,matrix:[1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1]},S:{x:5,y:7,matrix:[0,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,1,1,1,1,1,0]},T:{x:5,y:7,matrix:[1,1,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0]},U:{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,0]},V:{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,0,1,0,0,0,1,0,0]},W:{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,1,0,1,1,1,0,1,1,1,0,0,0,1]},X:{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,1,1,0,0,0,1]},Y:{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0]},Z:{x:5,y:7,matrix:[1,1,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,1,1,1,1]},a:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,0,1,1,1,1,1,0,0,0,1,0,1,1,1,1]},b:{x:5,y:7,matrix:[1,0,0,0,0,1,0,0,0,0,1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,0]},c:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,1,1,1]},d:{x:5,y:7,matrix:[0,0,0,0,1,0,0,0,0,1,0,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1]},e:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1]},f:{x:5,y:7,matrix:[0,0,1,1,1,0,1,0,0,0,0,1,0,0,0,1,1,1,1,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0]},g:{x:5,y:7,matrix:[0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,0,0,1,1,1,1,1,0]},h:{x:5,y:7,matrix:[1,0,0,0,0,1,0,0,0,0,1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1]},i:{x:5,y:7,matrix:[0,0,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,1,1,0]},j:{x:5,y:7,matrix:[0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,1,0,1,0,0,1,0,0,1,1,0,0]},k:{x:5,y:7,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,0,1,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,1]},l:{x:5,y:7,matrix:[0,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,1,1]},m:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1]},n:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1]},o:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,0]},p:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1,0,0,0,1,1,1,1,1,0,1,0,0,0,0,1,0,0,0,0]},q:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,0,0,0,1]},r:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0]},s:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,0]},t:{x:5,y:7,matrix:[0,1,0,0,0,0,1,0,0,0,1,1,1,1,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,1,1]},u:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,0]},v:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,1,0,1,0,0,0,1,0,0]},w:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0]},x:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,1]},y:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,0,0,1,1,1,1,1,0]},z:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,1,1,1,1]},"0":{x:5,y:7,matrix:[1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1]},"1":{x:5,y:7,matrix:[0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0]},"2":{x:5,y:7,matrix:[1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1]},"3":{x:5,y:7,matrix:[1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1]},"4":{x:5,y:7,matrix:[1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},"5":{x:5,y:7,matrix:[1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1]},"6":{x:5,y:7,matrix:[1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1]},"7":{x:5,y:7,matrix:[1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},"8":{x:5,y:7,matrix:[1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1]},"9":{x:5,y:7,matrix:[1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1]},"*":{x:5,y:7,matrix:[0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,1,1,1,1,1,0,1,1,1,0,1,0,1,0,1,0,0,0,0,0]},_:{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1]},"-":{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"?":{x:5,y:7,matrix:[0,1,1,1,0,1,0,0,0,1,0,0,0,0,1,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0]},".":{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0]},"/":{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0]},"=":{x:5,y:7,matrix:[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0]},"+":{x:5,y:7,matrix:[0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0]},"!":{x:5,y:7,matrix:[0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0]},_line:{x:1,y:7,matrix:[0,0,0,0,0,0,0]},_char:{x:5,y:1,matrix:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},":":{x:1,y:7,matrix:[0,0,1,0,1,0,0]},"$0":{x:1,y:10,matrix:[0,0,0,0,0,0,0,0,0,1]},"$1":{x:1,y:10,matrix:[0,0,0,0,0,0,0,0,1,1]},"$2":{x:1,y:10,matrix:[0,0,0,0,0,0,0,1,1,1]},"$3":{x:1,y:10,matrix:[0,0,0,0,0,0,1,1,1,1]},"$4":{x:1,y:10,matrix:[0,0,0,0,0,1,1,1,1,1]},"$5":{x:1,y:10,matrix:[0,0,0,0,1,1,1,1,1,1]},"$6":{x:1,y:10,matrix:[0,0,0,1,1,1,1,1,1,1]},"$7":{x:1,y:10,matrix:[0,0,1,1,1,1,1,1,1,1]},"$8":{x:1,y:10,matrix:[0,1,1,1,1,1,1,1,1,1]},"$9":{x:1,y:10,matrix:[1,1,1,1,1,1,1,1,1,1]}};Dlite.prototype=(function(e,i){function d(l){var k=l;k.setContent(["_char"]);k.setSize(5);k.setColor("#f00");k.showBackground(Dlite.background.SHOW);k.setAlignment(Dlite.align.HORIZONTAL)}function c(k){var p=i.querySelector(k),o=e.getComputedStyle(p,null),n=o.getPropertyValue("width"),m=o.getPropertyValue("height"),l;l=d3.select(k).append("svg").attr("width",n).attr("height",m).append("g").attr("transform","translate(0,0)");return{c:l,w:n,h:m}}function f(l){var C=l.x_size,k=l.y_size,o=l.container,A=l.align,n=0,m=10,p=[0.2,0.5,1],w=l.background,v=l.radius*2,z=l.radius,t=l.radius/2,y=0,B=0,u="grp",r=l.position===null?{x:0,y:0}:l.position,s=null,x=u+l.index;s=o.select("#"+x);if(s[0][0]===null){s=o.append("g").attr("id",x).attr("transform","translate("+r.x+", "+r.y+")")}s=s.selectAll("circle").data(l.data);s.enter().append("circle").attr("cx",function(D,q){if(q%C===0){if(y===0&&A===Dlite.align.HORIZONTAL){y=n}n=0}n+=(v+t);return n}).attr("cy",function(D,q){if(q%C===0){m+=(v+t)}if(A===Dlite.align.VERTICAL){B=m}return m}).attr("stroke",function(q){if((w===Dlite.background.SHOW||w===Dlite.background.PARTIAL)||q===1){return l.color}else{return"none"}}).attr("stroke-opacity",function(q){return w===Dlite.background.SHOW?p[0]:p[1]}).attr("fill",function(q){return w===Dlite.background.SHOW||q===1?l.color:"none"}).attr("fill-opacity",function(q){return w===Dlite.background.SHOW&&q!==1?p[0]:p[2]}).attr("r",z);s.attr("stroke",function(q){if((w===Dlite.background.SHOW||w===Dlite.background.PARTIAL)||q===1){return l.color}else{return"none"}}).attr("stroke-opacity",function(q){return w===Dlite.background.SHOW?p[0]:"0.5"}).attr("fill",function(q){return w===Dlite.background.SHOW||q===1?l.color:"none"}).attr("fill-opacity",function(q){return w===Dlite.background.SHOW&&q!==1?p[0]:p[2]});s.exit().remove();return{x:r.x+y,y:r.y+B}}function h(l){var m=Object.prototype.toString,k=null;if(typeof l==="string"){k=l.split("")}else{if(typeof l==="number"){k=String(l);if(k!==null||typeof k!=="undefined"){k=k.split("")}}else{if(m.call(l)==="[object Array]"){k=l}}}return k}function g(n,m){var o=null,l=n,k=null;o=h(m);if(o!==null){j(o,function(r,s,q){var p={color:l.color,index:q,text:r,x_size:s.x,y_size:s.y,container:l.viewer.canvas,align:l.align,radius:l.size,position:k,data:s.matrix,background:l.showBg};k=f(p)})}}function b(l){var k="_char";return Dlite.characterMatrix[l]||Dlite.characterMatrix[k]}function a(r,q,n,s){var p="_line",m=false,o=0,k=r.length;for(;o<k;o+=1){if(q.indexOf(r[o])===-1){m=true;break}}if(m){s(p,b(p),"s"+n)}}function j(l,m){for(var k=0;k<l.length;k+=1){m(l[k],b(l[k]),k);a(["$"],l[k],k,m)}}return{init:function(){var k=this.viewer,l=null;d(this);if(!k.canvas){l=c(this.ref);k.canvas=l.c;k.width=l.w;k.height=l.h}},setContent:function(k){var l=Object.prototype.toString;if(typeof k!=="undefined"||typeof k==="string"||typeof k==="number"||l.call(k)==="[object Array]"){this.content=k}else{throw Error("setContent: content is invalid")}return this},setSize:function(k){if(typeof k!=="undefined"||typeof k==="number"){this.size=k}else{throw Error("setSize: size is not a number")}return this},setColor:function(k){var l=Object.prototype.toString;if(typeof k!=="undefined"||typeof k==="string"||l.call(k)==="[object Array]"){this.color=k}else{throw Error("setColor: colors is invalid")}return this},setAlignment:function(k){if(k===Dlite.align.HORIZONTAL||k===Dlite.align.VERTICAL){this.align=k}else{throw Error("setAlignment: Invalid alignment value")}return this},showBackground:function(k){if(k!==Dlite.background.NONE&&k!==Dlite.background.PARTIAL&&k!==Dlite.background.SHOW){throw Error("setBackground: state is invalid")}this.showBg=k;return this},show:function(){var o=arguments,n=0,m=0,r=null,k=0,l=null,p=this,q;q=function(s){l=e.setInterval(function(){if(k<r||r===null){s(p);g(p,p.content);if(r!==null){k+=1}}else{if(l!==null){e.clearInterval(l)}}},m)};if(o.length>0){if(typeof o[0]==="number"){n=o[0]}if(typeof o[1]==="number"){m=o[1]}if(typeof o[2]==="number"){r=o[2]}if(typeof o[3]==="function"){e.setTimeout(function(){q(o[3])},n)}}else{g(this,this.content)}}}})(window,document);